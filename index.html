<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>SLEEEEEEEEEEP Intro</title>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="SLEEEEP">
<meta name="theme-color" content="#222222">

<style>
  *{
    box-sizing:border-box;
    margin:0;
    padding:0;
  }
  html,body{
    height:100%;
  }
  body{
    font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
    background:#111;
    display:flex;
    justify-content:center;
    align-items:center;
    -webkit-user-select:none;
    user-select:none;
    -webkit-touch-callout:none;
    -webkit-tap-highlight-color:transparent;
  }

  .game-root{
    position:relative;
    width:100%;
    max-width:900px;
    aspect-ratio:16/9;
    background:#aaaaaa;
    overflow:hidden;
    border-radius:12px;
    box-shadow:0 0 40px rgba(0,0,0,0.8);
  }

  /* ===== 배경 레이어 ===== */

  .sky{
    position:absolute;
    inset:0;
    background:#bfc3c8;
  }

  .city{
    position:absolute;
    left:0;
    right:0;
    top:4%;
    height:46%;
    overflow:hidden;
  }

  /* 픽셀 건물 배경 (스크롤) */
  .city::before{
    content:'';
    position:absolute;
    inset:0;
    background:
      linear-gradient(to top,#56615f 0 10%,#7b8585 10% 100%);
    /* 위에 빌딩들을 패턴으로 그리기 */
    background-image:
      repeating-linear-gradient(
        to right,
        transparent 0 14px,
        #6f7c7b 14px 30px,
        transparent 30px 34px
      ),
      repeating-linear-gradient(
        to right,
        transparent 0 24px,
        #8c9693 24px 44px,
        transparent 44px 52px
      ),
      repeating-linear-gradient(
        to right,
        transparent 0 36px,
        #9ca79f 36px 64px,
        transparent 64px 70px
      );
    background-size: 160px 100%, 200px 100%, 260px 100%;
    background-position:0 0, 0 0, 0 0;
    animation: city-scroll 25s linear infinite;
  }

  @keyframes city-scroll{
    0%{ background-position:0 0, 0 0, 0 0; }
    100%{ background-position:-320px 0, -260px 0, -220px 0; }
  }

  /* 나무/수풀 레이어 */

  .trees{
    position:absolute;
    left:0;
    right:0;
    top:42%;
    height:8%;
    background:
      repeating-linear-gradient(
        to right,
        #0e3b14 0 10px,
        #0e3b14 10px 14px,
        #125c19 14px 22px,
        #187825 22px 28px
      );
    box-shadow:0 -4px 0 rgba(0,0,0,0.35);
  }

  /* ===== 도로 ===== */

  .road{
    position:absolute;
    left:0;
    right:0;
    bottom:0;
    height:44%;
    background:#666666;
    box-shadow:0 -6px 0 rgba(0,0,0,0.7) inset;
  }

  /* 도로 중앙선 (픽셀 느낌) */
  .road::before{
    content:'';
    position:absolute;
    left:0;
    right:0;
    top:32%;
    height:10%;
    background:
      repeating-linear-gradient(
        to right,
        transparent 0 40px,
        #f5f5f5 40px 70px
      );
  }

  .road::after{
    content:'';
    position:absolute;
    left:0;
    right:0;
    bottom:6%;
    height:10%;
    background:
      repeating-linear-gradient(
        to right,
        transparent 0 40px,
        #f5f5f5 40px 70px
      );
    opacity:0.7;
  }

  /* 노란 자동차 */

  .car{
    position:absolute;
    bottom:18%;
    width:40px;
    height:24px;
    background:#f6b800;
    border-radius:6px 6px 4px 4px;
    border:3px solid #333;
    box-shadow:0 3px 0 rgba(0,0,0,0.6);
    animation: car-move 6s linear infinite;
  }

  .car::before,
  .car::after{
    content:'';
    position:absolute;
    bottom:-6px;
    width:14px;
    height:14px;
    border-radius:50%;
    background:#111;
  }
  .car::before{ left:4px; }
  .car::after{ right:4px; }

  .car.front{
    bottom:30%;
    transform:scale(0.8);
    animation-duration:5s;
    animation-delay:-2s;
  }

  @keyframes car-move{
    0%{ transform:translateX(-60px) scale(var(--scale,1)); }
    100%{ transform:translateX(110vw) scale(var(--scale,1)); }
  }

  /* ===== 인트로 타이틀 ===== */

  .title-screen{
    position:absolute;
    inset:0;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    background:linear-gradient(to bottom,rgba(0,0,0,0.35),rgba(0,0,0,0.7));
    color:#ffffff;
    text-align:center;
    padding:20px;
    z-index:10;
  }

  .title-lines{
    font-family:monospace;
    font-size:clamp(18px,3.2vmin,26px);
    letter-spacing:0.08em;
    line-height:1.6;
    text-shadow:0 3px 0 rgba(0,0,0,0.8);
    margin-bottom:28px;
  }

  .title-lines span{
    display:block;
  }

  .btn{
    display:inline-block;
    padding:10px 28px;
    border-radius:999px;
    border:3px solid #111;
    background:#ffd766;
    color:#111;
    font-weight:600;
    font-size:16px;
    box-shadow:0 4px 0 #111;
    cursor:pointer;
  }
  .btn:active{
    transform:translateY(2px);
    box-shadow:0 2px 0 #111;
  }

  /* ===== 대화 상자 ===== */

  .dialog-layer{
    position:absolute;
    left:50%;
    bottom:6%;
    transform:translateX(-50%);
    width:90%;
    max-width:640px;
    padding:12px 16px;
    background:rgba(20,20,20,0.92);
    border:3px solid #ffffff;
    box-shadow:0 4px 0 rgba(0,0,0,0.7);
    border-radius:10px;
    display:none;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    color:#f5f5f5;
    font-size:15px;
  }

  .dialog-text{
    flex:1;
    text-align:left;
  }

  .dialog-btn{
    flex-shrink:0;
    padding:6px 12px;
    border-radius:8px;
    border:2px solid #fff;
    background:#ffb84d;
    color:#111;
    font-size:13px;
    font-weight:600;
    cursor:pointer;
    box-shadow:0 3px 0 rgba(0,0,0,0.8);
    white-space:nowrap;
  }
  .dialog-btn:active{
    transform:translateY(1px);
    box-shadow:0 1px 0 rgba(0,0,0,0.8);
  }
</style>
</head>
<body>

<div class="game-root">
  <div class="sky"></div>
  <div class="city"></div>
  <div class="trees"></div>
  <div class="road">
    <div class="car" style="--scale:1;"></div>
    <div class="car front" style="--scale:0.85;"></div>
  </div>

  <!-- 타이틀 오버레이 -->
  <div class="title-screen" id="title">
    <div class="title-lines">
      <span>SLEEEEEEEEEEP</span>
      <span>SLEEEEEEEEEEP</span>
      <span>SLEEEEEEEEEEP</span>
      <span>SLEEEEEEEEEEP</span>
    </div>
    <button class="btn" id="startBtn">Start</button>
  </div>

  <!-- 대화 상자 -->
  <div class="dialog-layer" id="dialog">
    <div class="dialog-text" id="dialogText"></div>
    <button class="dialog-btn" id="dialogNext">NEXT</button>
  </div>
</div>

<script>
  const titleEl  = document.getElementById('title');
  const startBtn = document.getElementById('startBtn');

  const dialogLayer = document.getElementById('dialog');
  const dialogText  = document.getElementById('dialogText');
  const dialogNext  = document.getElementById('dialogNext');

  const lines = [
    '안녕?',
    '여행은 어때?',
    '너는 곧 3번째 수면 단계로 진입할 거야.',
    '우선 어디 편한 곳에 자리를 잡고 앉아봐.'
  ];
  let idx = 0;

  function showLine(i){
    dialogText.textContent = lines[i];
    dialogLayer.style.display = 'flex';
  }

  startBtn.addEventListener('click', () => {
    titleEl.style.display = 'none';
    idx = 0;
    showLine(idx);
  });

  dialogNext.addEventListener('click', () => {
    idx++;
    if(idx < lines.length){
      showLine(idx);
      if(idx === lines.length - 1){
        dialogNext.textContent = 'OK';
      }
    }else{
      // 마지막 문장 이후에는 버튼 비활성화하거나 감추기
      dialogNext.disabled = true;
      dialogNext.style.opacity = 0.5;
    }
  });
</script>

</body>
</html>